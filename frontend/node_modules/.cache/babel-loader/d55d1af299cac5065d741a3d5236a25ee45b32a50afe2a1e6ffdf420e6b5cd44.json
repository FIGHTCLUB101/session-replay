{"ast":null,"code":"import { __spreadArray, __read } from '../../ext/tslib/tslib.es6.js';\nvar StyleRuleType;\n(function (StyleRuleType) {\n  StyleRuleType[StyleRuleType[\"Insert\"] = 0] = \"Insert\";\n  StyleRuleType[StyleRuleType[\"Remove\"] = 1] = \"Remove\";\n  StyleRuleType[StyleRuleType[\"Snapshot\"] = 2] = \"Snapshot\";\n  StyleRuleType[StyleRuleType[\"SetProperty\"] = 3] = \"SetProperty\";\n  StyleRuleType[StyleRuleType[\"RemoveProperty\"] = 4] = \"RemoveProperty\";\n})(StyleRuleType || (StyleRuleType = {}));\nfunction getNestedRule(rules, position) {\n  var rule = rules[position[0]];\n  if (position.length === 1) {\n    return rule;\n  } else {\n    return getNestedRule(rule.cssRules[position[1]].cssRules, position.slice(2));\n  }\n}\nfunction getPositionsAndIndex(nestedIndex) {\n  var positions = __spreadArray([], __read(nestedIndex), false);\n  var index = positions.pop();\n  return {\n    positions: positions,\n    index: index\n  };\n}\nfunction applyVirtualStyleRulesToNode(storedRules, styleNode) {\n  var sheet = styleNode.sheet;\n  if (!sheet) {\n    return;\n  }\n  storedRules.forEach(function (rule) {\n    if (rule.type === StyleRuleType.Insert) {\n      try {\n        if (Array.isArray(rule.index)) {\n          var _a = getPositionsAndIndex(rule.index),\n            positions = _a.positions,\n            index = _a.index;\n          var nestedRule = getNestedRule(sheet.cssRules, positions);\n          nestedRule.insertRule(rule.cssText, index);\n        } else {\n          sheet.insertRule(rule.cssText, rule.index);\n        }\n      } catch (e) {}\n    } else if (rule.type === StyleRuleType.Remove) {\n      try {\n        if (Array.isArray(rule.index)) {\n          var _b = getPositionsAndIndex(rule.index),\n            positions = _b.positions,\n            index = _b.index;\n          var nestedRule = getNestedRule(sheet.cssRules, positions);\n          nestedRule.deleteRule(index || 0);\n        } else {\n          sheet.deleteRule(rule.index);\n        }\n      } catch (e) {}\n    } else if (rule.type === StyleRuleType.Snapshot) {\n      restoreSnapshotOfStyleRulesToNode(rule.cssTexts, styleNode);\n    } else if (rule.type === StyleRuleType.SetProperty) {\n      var nativeRule = getNestedRule(sheet.cssRules, rule.index);\n      nativeRule.style.setProperty(rule.property, rule.value, rule.priority);\n    } else if (rule.type === StyleRuleType.RemoveProperty) {\n      var nativeRule = getNestedRule(sheet.cssRules, rule.index);\n      nativeRule.style.removeProperty(rule.property);\n    }\n  });\n}\nfunction restoreSnapshotOfStyleRulesToNode(cssTexts, styleNode) {\n  var _a;\n  try {\n    var existingRules = Array.from(((_a = styleNode.sheet) === null || _a === void 0 ? void 0 : _a.cssRules) || []).map(function (rule) {\n      return rule.cssText;\n    });\n    var existingRulesReversed = Object.entries(existingRules).reverse();\n    var lastMatch_1 = existingRules.length;\n    existingRulesReversed.forEach(function (_a) {\n      var _b;\n      var _c = __read(_a, 2),\n        index = _c[0],\n        rule = _c[1];\n      var indexOf = cssTexts.indexOf(rule);\n      if (indexOf === -1 || indexOf > lastMatch_1) {\n        try {\n          (_b = styleNode.sheet) === null || _b === void 0 ? void 0 : _b.deleteRule(Number(index));\n        } catch (e) {}\n      }\n      lastMatch_1 = indexOf;\n    });\n    cssTexts.forEach(function (cssText, index) {\n      var _a, _b, _c;\n      try {\n        if (((_b = (_a = styleNode.sheet) === null || _a === void 0 ? void 0 : _a.cssRules[index]) === null || _b === void 0 ? void 0 : _b.cssText) !== cssText) {\n          (_c = styleNode.sheet) === null || _c === void 0 ? void 0 : _c.insertRule(cssText, index);\n        }\n      } catch (e) {}\n    });\n  } catch (e) {}\n}\nfunction storeCSSRules(parentElement, virtualStyleRulesMap) {\n  var _a;\n  try {\n    var cssTexts = Array.from(((_a = parentElement.sheet) === null || _a === void 0 ? void 0 : _a.cssRules) || []).map(function (rule) {\n      return rule.cssText;\n    });\n    virtualStyleRulesMap.set(parentElement, [{\n      type: StyleRuleType.Snapshot,\n      cssTexts: cssTexts\n    }]);\n  } catch (e) {}\n}\nexport { StyleRuleType, applyVirtualStyleRulesToNode, getNestedRule, getPositionsAndIndex, storeCSSRules };","map":{"version":3,"names":["__spreadArray","__read","StyleRuleType","getNestedRule","rules","position","rule","length","cssRules","slice","getPositionsAndIndex","nestedIndex","positions","index","pop","applyVirtualStyleRulesToNode","storedRules","styleNode","sheet","forEach","type","Insert","Array","isArray","_a","nestedRule","insertRule","cssText","e","Remove","_b","deleteRule","Snapshot","restoreSnapshotOfStyleRulesToNode","cssTexts","SetProperty","nativeRule","style","setProperty","property","value","priority","RemoveProperty","removeProperty","existingRules","from","map","existingRulesReversed","Object","entries","reverse","lastMatch_1","_c","indexOf","Number","storeCSSRules","parentElement","virtualStyleRulesMap","set"],"sources":["C:/Users/PRIYAM/OneDrive/Desktop/session replay/frontend/node_modules/rrweb/es/rrweb/packages/rrweb/src/replay/virtual-styles.js"],"sourcesContent":["import { __spreadArray, __read } from '../../ext/tslib/tslib.es6.js';\n\nvar StyleRuleType;\n(function (StyleRuleType) {\n    StyleRuleType[StyleRuleType[\"Insert\"] = 0] = \"Insert\";\n    StyleRuleType[StyleRuleType[\"Remove\"] = 1] = \"Remove\";\n    StyleRuleType[StyleRuleType[\"Snapshot\"] = 2] = \"Snapshot\";\n    StyleRuleType[StyleRuleType[\"SetProperty\"] = 3] = \"SetProperty\";\n    StyleRuleType[StyleRuleType[\"RemoveProperty\"] = 4] = \"RemoveProperty\";\n})(StyleRuleType || (StyleRuleType = {}));\nfunction getNestedRule(rules, position) {\n    var rule = rules[position[0]];\n    if (position.length === 1) {\n        return rule;\n    }\n    else {\n        return getNestedRule(rule.cssRules[position[1]]\n            .cssRules, position.slice(2));\n    }\n}\nfunction getPositionsAndIndex(nestedIndex) {\n    var positions = __spreadArray([], __read(nestedIndex), false);\n    var index = positions.pop();\n    return { positions: positions, index: index };\n}\nfunction applyVirtualStyleRulesToNode(storedRules, styleNode) {\n    var sheet = styleNode.sheet;\n    if (!sheet) {\n        return;\n    }\n    storedRules.forEach(function (rule) {\n        if (rule.type === StyleRuleType.Insert) {\n            try {\n                if (Array.isArray(rule.index)) {\n                    var _a = getPositionsAndIndex(rule.index), positions = _a.positions, index = _a.index;\n                    var nestedRule = getNestedRule(sheet.cssRules, positions);\n                    nestedRule.insertRule(rule.cssText, index);\n                }\n                else {\n                    sheet.insertRule(rule.cssText, rule.index);\n                }\n            }\n            catch (e) {\n            }\n        }\n        else if (rule.type === StyleRuleType.Remove) {\n            try {\n                if (Array.isArray(rule.index)) {\n                    var _b = getPositionsAndIndex(rule.index), positions = _b.positions, index = _b.index;\n                    var nestedRule = getNestedRule(sheet.cssRules, positions);\n                    nestedRule.deleteRule(index || 0);\n                }\n                else {\n                    sheet.deleteRule(rule.index);\n                }\n            }\n            catch (e) {\n            }\n        }\n        else if (rule.type === StyleRuleType.Snapshot) {\n            restoreSnapshotOfStyleRulesToNode(rule.cssTexts, styleNode);\n        }\n        else if (rule.type === StyleRuleType.SetProperty) {\n            var nativeRule = getNestedRule(sheet.cssRules, rule.index);\n            nativeRule.style.setProperty(rule.property, rule.value, rule.priority);\n        }\n        else if (rule.type === StyleRuleType.RemoveProperty) {\n            var nativeRule = getNestedRule(sheet.cssRules, rule.index);\n            nativeRule.style.removeProperty(rule.property);\n        }\n    });\n}\nfunction restoreSnapshotOfStyleRulesToNode(cssTexts, styleNode) {\n    var _a;\n    try {\n        var existingRules = Array.from(((_a = styleNode.sheet) === null || _a === void 0 ? void 0 : _a.cssRules) || []).map(function (rule) { return rule.cssText; });\n        var existingRulesReversed = Object.entries(existingRules).reverse();\n        var lastMatch_1 = existingRules.length;\n        existingRulesReversed.forEach(function (_a) {\n            var _b;\n            var _c = __read(_a, 2), index = _c[0], rule = _c[1];\n            var indexOf = cssTexts.indexOf(rule);\n            if (indexOf === -1 || indexOf > lastMatch_1) {\n                try {\n                    (_b = styleNode.sheet) === null || _b === void 0 ? void 0 : _b.deleteRule(Number(index));\n                }\n                catch (e) {\n                }\n            }\n            lastMatch_1 = indexOf;\n        });\n        cssTexts.forEach(function (cssText, index) {\n            var _a, _b, _c;\n            try {\n                if (((_b = (_a = styleNode.sheet) === null || _a === void 0 ? void 0 : _a.cssRules[index]) === null || _b === void 0 ? void 0 : _b.cssText) !== cssText) {\n                    (_c = styleNode.sheet) === null || _c === void 0 ? void 0 : _c.insertRule(cssText, index);\n                }\n            }\n            catch (e) {\n            }\n        });\n    }\n    catch (e) {\n    }\n}\nfunction storeCSSRules(parentElement, virtualStyleRulesMap) {\n    var _a;\n    try {\n        var cssTexts = Array.from(((_a = parentElement.sheet) === null || _a === void 0 ? void 0 : _a.cssRules) || []).map(function (rule) { return rule.cssText; });\n        virtualStyleRulesMap.set(parentElement, [\n            {\n                type: StyleRuleType.Snapshot,\n                cssTexts: cssTexts,\n            },\n        ]);\n    }\n    catch (e) {\n    }\n}\n\nexport { StyleRuleType, applyVirtualStyleRulesToNode, getNestedRule, getPositionsAndIndex, storeCSSRules };\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}