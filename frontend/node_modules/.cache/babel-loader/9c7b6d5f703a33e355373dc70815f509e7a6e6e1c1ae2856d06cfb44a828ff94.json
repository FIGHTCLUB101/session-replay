{"ast":null,"code":"import { __assign, __read, __values } from '../../ext/tslib/tslib.es6.js';\nimport { snapshot } from '../../../rrweb-snapshot/es/rrweb-snapshot.js';\nimport { initObservers, mutationBuffers } from './observer.js';\nimport { polyfill, on, createMirror, getWindowWidth, getWindowHeight, isIframeINode, hasShadowRoot } from '../utils.js';\nimport { EventType, IncrementalSource } from '../types.js';\nimport { IframeManager } from './iframe-manager.js';\nimport { ShadowDomManager } from './shadow-dom-manager.js';\nimport { CanvasManager } from './observers/canvas/canvas-manager.js';\nfunction wrapEvent(e) {\n  return __assign(__assign({}, e), {\n    timestamp: Date.now()\n  });\n}\nvar wrappedEmit;\nvar takeFullSnapshot;\nvar mirror = createMirror();\nfunction record(options) {\n  if (options === void 0) {\n    options = {};\n  }\n  var emit = options.emit,\n    checkoutEveryNms = options.checkoutEveryNms,\n    checkoutEveryNth = options.checkoutEveryNth,\n    _a = options.blockClass,\n    blockClass = _a === void 0 ? 'rr-block' : _a,\n    _b = options.blockSelector,\n    blockSelector = _b === void 0 ? null : _b,\n    _c = options.ignoreClass,\n    ignoreClass = _c === void 0 ? 'rr-ignore' : _c,\n    _d = options.maskTextClass,\n    maskTextClass = _d === void 0 ? 'rr-mask' : _d,\n    _e = options.maskTextSelector,\n    maskTextSelector = _e === void 0 ? null : _e,\n    _f = options.inlineStylesheet,\n    inlineStylesheet = _f === void 0 ? true : _f,\n    maskAllInputs = options.maskAllInputs,\n    _maskInputOptions = options.maskInputOptions,\n    _slimDOMOptions = options.slimDOMOptions,\n    maskInputFn = options.maskInputFn,\n    maskTextFn = options.maskTextFn,\n    hooks = options.hooks,\n    packFn = options.packFn,\n    _g = options.sampling,\n    sampling = _g === void 0 ? {} : _g,\n    mousemoveWait = options.mousemoveWait,\n    _h = options.recordCanvas,\n    recordCanvas = _h === void 0 ? false : _h,\n    _j = options.userTriggeredOnInput,\n    userTriggeredOnInput = _j === void 0 ? false : _j,\n    _k = options.collectFonts,\n    collectFonts = _k === void 0 ? false : _k,\n    _l = options.inlineImages,\n    inlineImages = _l === void 0 ? false : _l,\n    plugins = options.plugins,\n    _m = options.keepIframeSrcFn,\n    keepIframeSrcFn = _m === void 0 ? function () {\n      return false;\n    } : _m;\n  if (!emit) {\n    throw new Error('emit function is required');\n  }\n  if (mousemoveWait !== undefined && sampling.mousemove === undefined) {\n    sampling.mousemove = mousemoveWait;\n  }\n  var maskInputOptions = maskAllInputs === true ? {\n    color: true,\n    date: true,\n    'datetime-local': true,\n    email: true,\n    month: true,\n    number: true,\n    range: true,\n    search: true,\n    tel: true,\n    text: true,\n    time: true,\n    url: true,\n    week: true,\n    textarea: true,\n    select: true,\n    password: true\n  } : _maskInputOptions !== undefined ? _maskInputOptions : {\n    password: true\n  };\n  var slimDOMOptions = _slimDOMOptions === true || _slimDOMOptions === 'all' ? {\n    script: true,\n    comment: true,\n    headFavicon: true,\n    headWhitespace: true,\n    headMetaSocial: true,\n    headMetaRobots: true,\n    headMetaHttpEquiv: true,\n    headMetaVerification: true,\n    headMetaAuthorship: _slimDOMOptions === 'all',\n    headMetaDescKeywords: _slimDOMOptions === 'all'\n  } : _slimDOMOptions ? _slimDOMOptions : {};\n  polyfill();\n  var lastFullSnapshotEvent;\n  var incrementalSnapshotCount = 0;\n  var eventProcessor = function (e) {\n    var e_1, _a;\n    try {\n      for (var _b = __values(plugins || []), _c = _b.next(); !_c.done; _c = _b.next()) {\n        var plugin = _c.value;\n        if (plugin.eventProcessor) {\n          e = plugin.eventProcessor(e);\n        }\n      }\n    } catch (e_1_1) {\n      e_1 = {\n        error: e_1_1\n      };\n    } finally {\n      try {\n        if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n      } finally {\n        if (e_1) throw e_1.error;\n      }\n    }\n    if (packFn) {\n      e = packFn(e);\n    }\n    return e;\n  };\n  wrappedEmit = function (e, isCheckout) {\n    var _a;\n    if (((_a = mutationBuffers[0]) === null || _a === void 0 ? void 0 : _a.isFrozen()) && e.type !== EventType.FullSnapshot && !(e.type === EventType.IncrementalSnapshot && e.data.source === IncrementalSource.Mutation)) {\n      mutationBuffers.forEach(function (buf) {\n        return buf.unfreeze();\n      });\n    }\n    emit(eventProcessor(e), isCheckout);\n    if (e.type === EventType.FullSnapshot) {\n      lastFullSnapshotEvent = e;\n      incrementalSnapshotCount = 0;\n    } else if (e.type === EventType.IncrementalSnapshot) {\n      if (e.data.source === IncrementalSource.Mutation && e.data.isAttachIframe) {\n        return;\n      }\n      incrementalSnapshotCount++;\n      var exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\n      var exceedTime = checkoutEveryNms && e.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\n      if (exceedCount || exceedTime) {\n        takeFullSnapshot(true);\n      }\n    }\n  };\n  var wrappedMutationEmit = function (m) {\n    wrappedEmit(wrapEvent({\n      type: EventType.IncrementalSnapshot,\n      data: __assign({\n        source: IncrementalSource.Mutation\n      }, m)\n    }));\n  };\n  var wrappedScrollEmit = function (p) {\n    return wrappedEmit(wrapEvent({\n      type: EventType.IncrementalSnapshot,\n      data: __assign({\n        source: IncrementalSource.Scroll\n      }, p)\n    }));\n  };\n  var wrappedCanvasMutationEmit = function (p) {\n    return wrappedEmit(wrapEvent({\n      type: EventType.IncrementalSnapshot,\n      data: __assign({\n        source: IncrementalSource.CanvasMutation\n      }, p)\n    }));\n  };\n  var iframeManager = new IframeManager({\n    mutationCb: wrappedMutationEmit\n  });\n  var canvasManager = new CanvasManager({\n    recordCanvas: recordCanvas,\n    mutationCb: wrappedCanvasMutationEmit,\n    win: window,\n    blockClass: blockClass,\n    mirror: mirror\n  });\n  var shadowDomManager = new ShadowDomManager({\n    mutationCb: wrappedMutationEmit,\n    scrollCb: wrappedScrollEmit,\n    bypassOptions: {\n      blockClass: blockClass,\n      blockSelector: blockSelector,\n      maskTextClass: maskTextClass,\n      maskTextSelector: maskTextSelector,\n      inlineStylesheet: inlineStylesheet,\n      maskInputOptions: maskInputOptions,\n      maskTextFn: maskTextFn,\n      maskInputFn: maskInputFn,\n      recordCanvas: recordCanvas,\n      inlineImages: inlineImages,\n      sampling: sampling,\n      slimDOMOptions: slimDOMOptions,\n      iframeManager: iframeManager,\n      canvasManager: canvasManager\n    },\n    mirror: mirror\n  });\n  takeFullSnapshot = function (isCheckout) {\n    var _a, _b, _c, _d;\n    if (isCheckout === void 0) {\n      isCheckout = false;\n    }\n    wrappedEmit(wrapEvent({\n      type: EventType.Meta,\n      data: {\n        href: window.location.href,\n        width: getWindowWidth(),\n        height: getWindowHeight()\n      }\n    }), isCheckout);\n    mutationBuffers.forEach(function (buf) {\n      return buf.lock();\n    });\n    var _e = __read(snapshot(document, {\n        blockClass: blockClass,\n        blockSelector: blockSelector,\n        maskTextClass: maskTextClass,\n        maskTextSelector: maskTextSelector,\n        inlineStylesheet: inlineStylesheet,\n        maskAllInputs: maskInputOptions,\n        maskTextFn: maskTextFn,\n        slimDOM: slimDOMOptions,\n        recordCanvas: recordCanvas,\n        inlineImages: inlineImages,\n        onSerialize: function (n) {\n          if (isIframeINode(n)) {\n            iframeManager.addIframe(n);\n          }\n          if (hasShadowRoot(n)) {\n            shadowDomManager.addShadowRoot(n.shadowRoot, document);\n          }\n        },\n        onIframeLoad: function (iframe, childSn) {\n          iframeManager.attachIframe(iframe, childSn);\n          shadowDomManager.observeAttachShadow(iframe);\n        },\n        keepIframeSrcFn: keepIframeSrcFn\n      }), 2),\n      node = _e[0],\n      idNodeMap = _e[1];\n    if (!node) {\n      return console.warn('Failed to snapshot the document');\n    }\n    mirror.map = idNodeMap;\n    wrappedEmit(wrapEvent({\n      type: EventType.FullSnapshot,\n      data: {\n        node: node,\n        initialOffset: {\n          left: window.pageXOffset !== undefined ? window.pageXOffset : (document === null || document === void 0 ? void 0 : document.documentElement.scrollLeft) || ((_b = (_a = document === null || document === void 0 ? void 0 : document.body) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.scrollLeft) || (document === null || document === void 0 ? void 0 : document.body.scrollLeft) || 0,\n          top: window.pageYOffset !== undefined ? window.pageYOffset : (document === null || document === void 0 ? void 0 : document.documentElement.scrollTop) || ((_d = (_c = document === null || document === void 0 ? void 0 : document.body) === null || _c === void 0 ? void 0 : _c.parentElement) === null || _d === void 0 ? void 0 : _d.scrollTop) || (document === null || document === void 0 ? void 0 : document.body.scrollTop) || 0\n        }\n      }\n    }));\n    mutationBuffers.forEach(function (buf) {\n      return buf.unlock();\n    });\n  };\n  try {\n    var handlers_1 = [];\n    handlers_1.push(on('DOMContentLoaded', function () {\n      wrappedEmit(wrapEvent({\n        type: EventType.DomContentLoaded,\n        data: {}\n      }));\n    }));\n    var observe_1 = function (doc) {\n      var _a;\n      return initObservers({\n        mutationCb: wrappedMutationEmit,\n        mousemoveCb: function (positions, source) {\n          return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: {\n              source: source,\n              positions: positions\n            }\n          }));\n        },\n        mouseInteractionCb: function (d) {\n          return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({\n              source: IncrementalSource.MouseInteraction\n            }, d)\n          }));\n        },\n        scrollCb: wrappedScrollEmit,\n        viewportResizeCb: function (d) {\n          return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({\n              source: IncrementalSource.ViewportResize\n            }, d)\n          }));\n        },\n        inputCb: function (v) {\n          return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({\n              source: IncrementalSource.Input\n            }, v)\n          }));\n        },\n        mediaInteractionCb: function (p) {\n          return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({\n              source: IncrementalSource.MediaInteraction\n            }, p)\n          }));\n        },\n        styleSheetRuleCb: function (r) {\n          return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({\n              source: IncrementalSource.StyleSheetRule\n            }, r)\n          }));\n        },\n        styleDeclarationCb: function (r) {\n          return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({\n              source: IncrementalSource.StyleDeclaration\n            }, r)\n          }));\n        },\n        canvasMutationCb: wrappedCanvasMutationEmit,\n        fontCb: function (p) {\n          return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({\n              source: IncrementalSource.Font\n            }, p)\n          }));\n        },\n        blockClass: blockClass,\n        ignoreClass: ignoreClass,\n        maskTextClass: maskTextClass,\n        maskTextSelector: maskTextSelector,\n        maskInputOptions: maskInputOptions,\n        inlineStylesheet: inlineStylesheet,\n        sampling: sampling,\n        recordCanvas: recordCanvas,\n        inlineImages: inlineImages,\n        userTriggeredOnInput: userTriggeredOnInput,\n        collectFonts: collectFonts,\n        doc: doc,\n        maskInputFn: maskInputFn,\n        maskTextFn: maskTextFn,\n        blockSelector: blockSelector,\n        slimDOMOptions: slimDOMOptions,\n        mirror: mirror,\n        iframeManager: iframeManager,\n        shadowDomManager: shadowDomManager,\n        canvasManager: canvasManager,\n        plugins: ((_a = plugins === null || plugins === void 0 ? void 0 : plugins.filter(function (p) {\n          return p.observer;\n        })) === null || _a === void 0 ? void 0 : _a.map(function (p) {\n          return {\n            observer: p.observer,\n            options: p.options,\n            callback: function (payload) {\n              return wrappedEmit(wrapEvent({\n                type: EventType.Plugin,\n                data: {\n                  plugin: p.name,\n                  payload: payload\n                }\n              }));\n            }\n          };\n        })) || []\n      }, hooks);\n    };\n    iframeManager.addLoadListener(function (iframeEl) {\n      handlers_1.push(observe_1(iframeEl.contentDocument));\n    });\n    var init_1 = function () {\n      takeFullSnapshot();\n      handlers_1.push(observe_1(document));\n    };\n    if (document.readyState === 'interactive' || document.readyState === 'complete') {\n      init_1();\n    } else {\n      handlers_1.push(on('load', function () {\n        wrappedEmit(wrapEvent({\n          type: EventType.Load,\n          data: {}\n        }));\n        init_1();\n      }, window));\n    }\n    return function () {\n      handlers_1.forEach(function (h) {\n        return h();\n      });\n    };\n  } catch (error) {\n    console.warn(error);\n  }\n}\nrecord.addCustomEvent = function (tag, payload) {\n  if (!wrappedEmit) {\n    throw new Error('please add custom event after start recording');\n  }\n  wrappedEmit(wrapEvent({\n    type: EventType.Custom,\n    data: {\n      tag: tag,\n      payload: payload\n    }\n  }));\n};\nrecord.freezePage = function () {\n  mutationBuffers.forEach(function (buf) {\n    return buf.freeze();\n  });\n};\nrecord.takeFullSnapshot = function (isCheckout) {\n  if (!takeFullSnapshot) {\n    throw new Error('please take full snapshot after start recording');\n  }\n  takeFullSnapshot(isCheckout);\n};\nrecord.mirror = mirror;\nexport default record;","map":{"version":3,"names":["__assign","__read","__values","snapshot","initObservers","mutationBuffers","polyfill","on","createMirror","getWindowWidth","getWindowHeight","isIframeINode","hasShadowRoot","EventType","IncrementalSource","IframeManager","ShadowDomManager","CanvasManager","wrapEvent","e","timestamp","Date","now","wrappedEmit","takeFullSnapshot","mirror","record","options","emit","checkoutEveryNms","checkoutEveryNth","_a","blockClass","_b","blockSelector","_c","ignoreClass","_d","maskTextClass","_e","maskTextSelector","_f","inlineStylesheet","maskAllInputs","_maskInputOptions","maskInputOptions","_slimDOMOptions","slimDOMOptions","maskInputFn","maskTextFn","hooks","packFn","_g","sampling","mousemoveWait","_h","recordCanvas","_j","userTriggeredOnInput","_k","collectFonts","_l","inlineImages","plugins","_m","keepIframeSrcFn","Error","undefined","mousemove","color","date","email","month","number","range","search","tel","text","time","url","week","textarea","select","password","script","comment","headFavicon","headWhitespace","headMetaSocial","headMetaRobots","headMetaHttpEquiv","headMetaVerification","headMetaAuthorship","headMetaDescKeywords","lastFullSnapshotEvent","incrementalSnapshotCount","eventProcessor","e_1","next","done","plugin","value","e_1_1","error","return","call","isCheckout","isFrozen","type","FullSnapshot","IncrementalSnapshot","data","source","Mutation","forEach","buf","unfreeze","isAttachIframe","exceedCount","exceedTime","wrappedMutationEmit","m","wrappedScrollEmit","p","Scroll","wrappedCanvasMutationEmit","CanvasMutation","iframeManager","mutationCb","canvasManager","win","window","shadowDomManager","scrollCb","bypassOptions","Meta","href","location","width","height","lock","document","slimDOM","onSerialize","n","addIframe","addShadowRoot","shadowRoot","onIframeLoad","iframe","childSn","attachIframe","observeAttachShadow","node","idNodeMap","console","warn","map","initialOffset","left","pageXOffset","documentElement","scrollLeft","body","parentElement","top","pageYOffset","scrollTop","unlock","handlers_1","push","DomContentLoaded","observe_1","doc","mousemoveCb","positions","mouseInteractionCb","d","MouseInteraction","viewportResizeCb","ViewportResize","inputCb","v","Input","mediaInteractionCb","MediaInteraction","styleSheetRuleCb","r","StyleSheetRule","styleDeclarationCb","StyleDeclaration","canvasMutationCb","fontCb","Font","filter","observer","callback","payload","Plugin","name","addLoadListener","iframeEl","contentDocument","init_1","readyState","Load","h","addCustomEvent","tag","Custom","freezePage","freeze"],"sources":["C:/Users/PRIYAM/OneDrive/Desktop/session replay/frontend/node_modules/rrweb/es/rrweb/packages/rrweb/src/record/index.js"],"sourcesContent":["import { __assign, __read, __values } from '../../ext/tslib/tslib.es6.js';\nimport { snapshot } from '../../../rrweb-snapshot/es/rrweb-snapshot.js';\nimport { initObservers, mutationBuffers } from './observer.js';\nimport { polyfill, on, createMirror, getWindowWidth, getWindowHeight, isIframeINode, hasShadowRoot } from '../utils.js';\nimport { EventType, IncrementalSource } from '../types.js';\nimport { IframeManager } from './iframe-manager.js';\nimport { ShadowDomManager } from './shadow-dom-manager.js';\nimport { CanvasManager } from './observers/canvas/canvas-manager.js';\n\nfunction wrapEvent(e) {\n    return __assign(__assign({}, e), { timestamp: Date.now() });\n}\nvar wrappedEmit;\nvar takeFullSnapshot;\nvar mirror = createMirror();\nfunction record(options) {\n    if (options === void 0) { options = {}; }\n    var emit = options.emit, checkoutEveryNms = options.checkoutEveryNms, checkoutEveryNth = options.checkoutEveryNth, _a = options.blockClass, blockClass = _a === void 0 ? 'rr-block' : _a, _b = options.blockSelector, blockSelector = _b === void 0 ? null : _b, _c = options.ignoreClass, ignoreClass = _c === void 0 ? 'rr-ignore' : _c, _d = options.maskTextClass, maskTextClass = _d === void 0 ? 'rr-mask' : _d, _e = options.maskTextSelector, maskTextSelector = _e === void 0 ? null : _e, _f = options.inlineStylesheet, inlineStylesheet = _f === void 0 ? true : _f, maskAllInputs = options.maskAllInputs, _maskInputOptions = options.maskInputOptions, _slimDOMOptions = options.slimDOMOptions, maskInputFn = options.maskInputFn, maskTextFn = options.maskTextFn, hooks = options.hooks, packFn = options.packFn, _g = options.sampling, sampling = _g === void 0 ? {} : _g, mousemoveWait = options.mousemoveWait, _h = options.recordCanvas, recordCanvas = _h === void 0 ? false : _h, _j = options.userTriggeredOnInput, userTriggeredOnInput = _j === void 0 ? false : _j, _k = options.collectFonts, collectFonts = _k === void 0 ? false : _k, _l = options.inlineImages, inlineImages = _l === void 0 ? false : _l, plugins = options.plugins, _m = options.keepIframeSrcFn, keepIframeSrcFn = _m === void 0 ? function () { return false; } : _m;\n    if (!emit) {\n        throw new Error('emit function is required');\n    }\n    if (mousemoveWait !== undefined && sampling.mousemove === undefined) {\n        sampling.mousemove = mousemoveWait;\n    }\n    var maskInputOptions = maskAllInputs === true\n        ? {\n            color: true,\n            date: true,\n            'datetime-local': true,\n            email: true,\n            month: true,\n            number: true,\n            range: true,\n            search: true,\n            tel: true,\n            text: true,\n            time: true,\n            url: true,\n            week: true,\n            textarea: true,\n            select: true,\n            password: true,\n        }\n        : _maskInputOptions !== undefined\n            ? _maskInputOptions\n            : { password: true };\n    var slimDOMOptions = _slimDOMOptions === true || _slimDOMOptions === 'all'\n        ? {\n            script: true,\n            comment: true,\n            headFavicon: true,\n            headWhitespace: true,\n            headMetaSocial: true,\n            headMetaRobots: true,\n            headMetaHttpEquiv: true,\n            headMetaVerification: true,\n            headMetaAuthorship: _slimDOMOptions === 'all',\n            headMetaDescKeywords: _slimDOMOptions === 'all',\n        }\n        : _slimDOMOptions\n            ? _slimDOMOptions\n            : {};\n    polyfill();\n    var lastFullSnapshotEvent;\n    var incrementalSnapshotCount = 0;\n    var eventProcessor = function (e) {\n        var e_1, _a;\n        try {\n            for (var _b = __values(plugins || []), _c = _b.next(); !_c.done; _c = _b.next()) {\n                var plugin = _c.value;\n                if (plugin.eventProcessor) {\n                    e = plugin.eventProcessor(e);\n                }\n            }\n        }\n        catch (e_1_1) { e_1 = { error: e_1_1 }; }\n        finally {\n            try {\n                if (_c && !_c.done && (_a = _b.return)) _a.call(_b);\n            }\n            finally { if (e_1) throw e_1.error; }\n        }\n        if (packFn) {\n            e = packFn(e);\n        }\n        return e;\n    };\n    wrappedEmit = function (e, isCheckout) {\n        var _a;\n        if (((_a = mutationBuffers[0]) === null || _a === void 0 ? void 0 : _a.isFrozen()) &&\n            e.type !== EventType.FullSnapshot &&\n            !(e.type === EventType.IncrementalSnapshot &&\n                e.data.source === IncrementalSource.Mutation)) {\n            mutationBuffers.forEach(function (buf) { return buf.unfreeze(); });\n        }\n        emit(eventProcessor(e), isCheckout);\n        if (e.type === EventType.FullSnapshot) {\n            lastFullSnapshotEvent = e;\n            incrementalSnapshotCount = 0;\n        }\n        else if (e.type === EventType.IncrementalSnapshot) {\n            if (e.data.source === IncrementalSource.Mutation &&\n                e.data.isAttachIframe) {\n                return;\n            }\n            incrementalSnapshotCount++;\n            var exceedCount = checkoutEveryNth && incrementalSnapshotCount >= checkoutEveryNth;\n            var exceedTime = checkoutEveryNms &&\n                e.timestamp - lastFullSnapshotEvent.timestamp > checkoutEveryNms;\n            if (exceedCount || exceedTime) {\n                takeFullSnapshot(true);\n            }\n        }\n    };\n    var wrappedMutationEmit = function (m) {\n        wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({ source: IncrementalSource.Mutation }, m),\n        }));\n    };\n    var wrappedScrollEmit = function (p) {\n        return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({ source: IncrementalSource.Scroll }, p),\n        }));\n    };\n    var wrappedCanvasMutationEmit = function (p) {\n        return wrappedEmit(wrapEvent({\n            type: EventType.IncrementalSnapshot,\n            data: __assign({ source: IncrementalSource.CanvasMutation }, p),\n        }));\n    };\n    var iframeManager = new IframeManager({\n        mutationCb: wrappedMutationEmit,\n    });\n    var canvasManager = new CanvasManager({\n        recordCanvas: recordCanvas,\n        mutationCb: wrappedCanvasMutationEmit,\n        win: window,\n        blockClass: blockClass,\n        mirror: mirror,\n    });\n    var shadowDomManager = new ShadowDomManager({\n        mutationCb: wrappedMutationEmit,\n        scrollCb: wrappedScrollEmit,\n        bypassOptions: {\n            blockClass: blockClass,\n            blockSelector: blockSelector,\n            maskTextClass: maskTextClass,\n            maskTextSelector: maskTextSelector,\n            inlineStylesheet: inlineStylesheet,\n            maskInputOptions: maskInputOptions,\n            maskTextFn: maskTextFn,\n            maskInputFn: maskInputFn,\n            recordCanvas: recordCanvas,\n            inlineImages: inlineImages,\n            sampling: sampling,\n            slimDOMOptions: slimDOMOptions,\n            iframeManager: iframeManager,\n            canvasManager: canvasManager,\n        },\n        mirror: mirror,\n    });\n    takeFullSnapshot = function (isCheckout) {\n        var _a, _b, _c, _d;\n        if (isCheckout === void 0) { isCheckout = false; }\n        wrappedEmit(wrapEvent({\n            type: EventType.Meta,\n            data: {\n                href: window.location.href,\n                width: getWindowWidth(),\n                height: getWindowHeight(),\n            },\n        }), isCheckout);\n        mutationBuffers.forEach(function (buf) { return buf.lock(); });\n        var _e = __read(snapshot(document, {\n            blockClass: blockClass,\n            blockSelector: blockSelector,\n            maskTextClass: maskTextClass,\n            maskTextSelector: maskTextSelector,\n            inlineStylesheet: inlineStylesheet,\n            maskAllInputs: maskInputOptions,\n            maskTextFn: maskTextFn,\n            slimDOM: slimDOMOptions,\n            recordCanvas: recordCanvas,\n            inlineImages: inlineImages,\n            onSerialize: function (n) {\n                if (isIframeINode(n)) {\n                    iframeManager.addIframe(n);\n                }\n                if (hasShadowRoot(n)) {\n                    shadowDomManager.addShadowRoot(n.shadowRoot, document);\n                }\n            },\n            onIframeLoad: function (iframe, childSn) {\n                iframeManager.attachIframe(iframe, childSn);\n                shadowDomManager.observeAttachShadow(iframe);\n            },\n            keepIframeSrcFn: keepIframeSrcFn,\n        }), 2), node = _e[0], idNodeMap = _e[1];\n        if (!node) {\n            return console.warn('Failed to snapshot the document');\n        }\n        mirror.map = idNodeMap;\n        wrappedEmit(wrapEvent({\n            type: EventType.FullSnapshot,\n            data: {\n                node: node,\n                initialOffset: {\n                    left: window.pageXOffset !== undefined\n                        ? window.pageXOffset\n                        : (document === null || document === void 0 ? void 0 : document.documentElement.scrollLeft) ||\n                            ((_b = (_a = document === null || document === void 0 ? void 0 : document.body) === null || _a === void 0 ? void 0 : _a.parentElement) === null || _b === void 0 ? void 0 : _b.scrollLeft) ||\n                            (document === null || document === void 0 ? void 0 : document.body.scrollLeft) ||\n                            0,\n                    top: window.pageYOffset !== undefined\n                        ? window.pageYOffset\n                        : (document === null || document === void 0 ? void 0 : document.documentElement.scrollTop) ||\n                            ((_d = (_c = document === null || document === void 0 ? void 0 : document.body) === null || _c === void 0 ? void 0 : _c.parentElement) === null || _d === void 0 ? void 0 : _d.scrollTop) ||\n                            (document === null || document === void 0 ? void 0 : document.body.scrollTop) ||\n                            0,\n                },\n            },\n        }));\n        mutationBuffers.forEach(function (buf) { return buf.unlock(); });\n    };\n    try {\n        var handlers_1 = [];\n        handlers_1.push(on('DOMContentLoaded', function () {\n            wrappedEmit(wrapEvent({\n                type: EventType.DomContentLoaded,\n                data: {},\n            }));\n        }));\n        var observe_1 = function (doc) {\n            var _a;\n            return initObservers({\n                mutationCb: wrappedMutationEmit,\n                mousemoveCb: function (positions, source) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: {\n                            source: source,\n                            positions: positions,\n                        },\n                    }));\n                },\n                mouseInteractionCb: function (d) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.MouseInteraction }, d),\n                    }));\n                },\n                scrollCb: wrappedScrollEmit,\n                viewportResizeCb: function (d) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.ViewportResize }, d),\n                    }));\n                },\n                inputCb: function (v) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.Input }, v),\n                    }));\n                },\n                mediaInteractionCb: function (p) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.MediaInteraction }, p),\n                    }));\n                },\n                styleSheetRuleCb: function (r) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.StyleSheetRule }, r),\n                    }));\n                },\n                styleDeclarationCb: function (r) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.StyleDeclaration }, r),\n                    }));\n                },\n                canvasMutationCb: wrappedCanvasMutationEmit,\n                fontCb: function (p) {\n                    return wrappedEmit(wrapEvent({\n                        type: EventType.IncrementalSnapshot,\n                        data: __assign({ source: IncrementalSource.Font }, p),\n                    }));\n                },\n                blockClass: blockClass,\n                ignoreClass: ignoreClass,\n                maskTextClass: maskTextClass,\n                maskTextSelector: maskTextSelector,\n                maskInputOptions: maskInputOptions,\n                inlineStylesheet: inlineStylesheet,\n                sampling: sampling,\n                recordCanvas: recordCanvas,\n                inlineImages: inlineImages,\n                userTriggeredOnInput: userTriggeredOnInput,\n                collectFonts: collectFonts,\n                doc: doc,\n                maskInputFn: maskInputFn,\n                maskTextFn: maskTextFn,\n                blockSelector: blockSelector,\n                slimDOMOptions: slimDOMOptions,\n                mirror: mirror,\n                iframeManager: iframeManager,\n                shadowDomManager: shadowDomManager,\n                canvasManager: canvasManager,\n                plugins: ((_a = plugins === null || plugins === void 0 ? void 0 : plugins.filter(function (p) { return p.observer; })) === null || _a === void 0 ? void 0 : _a.map(function (p) { return ({\n                    observer: p.observer,\n                    options: p.options,\n                    callback: function (payload) {\n                        return wrappedEmit(wrapEvent({\n                            type: EventType.Plugin,\n                            data: {\n                                plugin: p.name,\n                                payload: payload,\n                            },\n                        }));\n                    },\n                }); })) || [],\n            }, hooks);\n        };\n        iframeManager.addLoadListener(function (iframeEl) {\n            handlers_1.push(observe_1(iframeEl.contentDocument));\n        });\n        var init_1 = function () {\n            takeFullSnapshot();\n            handlers_1.push(observe_1(document));\n        };\n        if (document.readyState === 'interactive' ||\n            document.readyState === 'complete') {\n            init_1();\n        }\n        else {\n            handlers_1.push(on('load', function () {\n                wrappedEmit(wrapEvent({\n                    type: EventType.Load,\n                    data: {},\n                }));\n                init_1();\n            }, window));\n        }\n        return function () {\n            handlers_1.forEach(function (h) { return h(); });\n        };\n    }\n    catch (error) {\n        console.warn(error);\n    }\n}\nrecord.addCustomEvent = function (tag, payload) {\n    if (!wrappedEmit) {\n        throw new Error('please add custom event after start recording');\n    }\n    wrappedEmit(wrapEvent({\n        type: EventType.Custom,\n        data: {\n            tag: tag,\n            payload: payload,\n        },\n    }));\n};\nrecord.freezePage = function () {\n    mutationBuffers.forEach(function (buf) { return buf.freeze(); });\n};\nrecord.takeFullSnapshot = function (isCheckout) {\n    if (!takeFullSnapshot) {\n        throw new Error('please take full snapshot after start recording');\n    }\n    takeFullSnapshot(isCheckout);\n};\nrecord.mirror = mirror;\n\nexport default record;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}